<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>2025 Racing Schedules</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Bootstrap CSS CDN -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    /* Custom styling for the upcoming event box */
    .upcoming-event {
      background-color: #f8f9fa;
      padding: 1rem;
      margin-bottom: 1.5rem;
      border: 2px dashed #007bff;
      border-radius: 5px;
    }
  </style>
</head>
<body>
  <div class="container my-4">
    <header class="mb-4">
      <h1 class="text-center">2025 Racing Schedules</h1>
    </header>
    
    <!-- Upcoming event section -->
    <div id="upcoming-event" class="upcoming-event text-center">
      <!-- The next upcoming event info will be injected here -->
    </div>
    
    <!-- Nav tabs for different series -->
    <ul class="nav nav-tabs" id="scheduleTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="f1-tab" data-bs-toggle="tab" data-bs-target="#f1" type="button" role="tab" aria-controls="f1" aria-selected="true">
          Formula 1
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="indy-tab" data-bs-toggle="tab" data-bs-target="#indy" type="button" role="tab" aria-controls="indy" aria-selected="false">
          IndyCar
        </button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="nascar-tab" data-bs-toggle="tab" data-bs-target="#nascar" type="button" role="tab" aria-controls="nascar" aria-selected="false">
          NASCAR Cup
        </button>
      </li>
    </ul>
    
    <!-- Tab content -->
    <div class="tab-content" id="scheduleTabsContent">
      <!-- Formula 1 Tab -->
      <div class="tab-pane fade show active" id="f1" role="tabpanel" aria-labelledby="f1-tab">
        <div class="table-responsive">
          <table class="table table-striped mt-3">
            <thead>
              <tr>
                <th>Date</th>
                <th>Race</th>
                <th>Circuit</th>
                <th>Time (ET)</th>
              </tr>
            </thead>
            <tbody id="f1-table-body">
              <!-- Formula 1 events will be injected here -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- IndyCar Tab -->
      <div class="tab-pane fade" id="indy" role="tabpanel" aria-labelledby="indy-tab">
        <div class="table-responsive">
          <table class="table table-striped mt-3">
            <thead>
              <tr>
                <th>Date</th>
                <th>Race</th>
                <th>Venue</th>
                <th>Network</th>
              </tr>
            </thead>
            <tbody id="indy-table-body">
              <!-- IndyCar events will be injected here -->
            </tbody>
          </table>
        </div>
      </div>
      
      <!-- NASCAR Cup Tab -->
      <div class="tab-pane fade" id="nascar" role="tabpanel" aria-labelledby="nascar-tab">
        <!-- NASCAR Regular Season -->
        <h3 class="mt-3">Regular Season</h3>
        <div class="table-responsive">
          <table class="table table-striped mt-3">
            <thead>
              <tr>
                <th>Date</th>
                <th>Race</th>
                <th>Venue</th>
                <th>Network</th>
              </tr>
            </thead>
            <tbody id="nascar-regular-table-body">
              <!-- NASCAR Regular events will be injected here -->
            </tbody>
          </table>
        </div>
        <!-- NASCAR Playoffs -->
        <h3 class="mt-3">Playoffs</h3>
        <div class="table-responsive">
          <table class="table table-striped mt-3">
            <thead>
              <tr>
                <th>Date</th>
                <th>Race</th>
                <th>Venue</th>
                <th>Network</th>
              </tr>
            </thead>
            <tbody id="nascar-playoffs-table-body">
              <!-- NASCAR Playoff events will be injected here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    /*******************************
     * Data and Helper Functions
     *******************************/
    
    /**
     * Helper function to parse date strings like "Mar 13-15" or "Mar 2".
     * We assume the first day is the start day and use the year 2025.
     */
    function parseEventDate(dateStr) {
      // Split the string (e.g., "Mar 13-15" -> ["Mar", "13-15"])
      const parts = dateStr.split(" ");
      const monthStr = parts[0];
      const dayPart = parts[1]; // Could be "13-15" or "2"
      // Use the first number as the day
      let day = dayPart.split("-")[0];
      const months = {
        "Jan": 0, "Feb": 1, "Mar": 2, "Apr": 3,
        "May": 4, "Jun": 5, "Jul": 6, "Aug": 7,
        "Sep": 8, "Oct": 9, "Nov": 10, "Dec": 11
      };
      const month = months[monthStr];
      return new Date(2025, month, parseInt(day));
    }
    
    // Formula 1 events
    const f1Events = [
      { date: "Mar 13-15", race: "Australian GP", circuit: "Melbourne Grand Prix Circuit", time: "9:00 PM" },
      { date: "Mar 20-23", race: "Chinese GP", circuit: "Shanghai International Circuit", time: "12:00 AM" },
      { date: "Apr 3-5",  race: "Japanese GP", circuit: "Suzuka International Racing Course", time: "10:00 PM" },
      { date: "Apr 11-13", race: "Bahrain GP", circuit: "Bahrain International Circuit", time: "8:00 AM" },
      { date: "Apr 18-20", race: "Saudi Arabian GP", circuit: "Jeddah Street Circuit", time: "10:00 AM" },
      { date: "May 2-4",   race: "Miami GP", circuit: "Miami International Autodrome", time: "1:00 PM" },
      { date: "May 16-18", race: "Emilia Romagna GP", circuit: "Autodromo Enzo e Dino Ferrari", time: "6:00 AM" },
      { date: "May 23-25", race: "Monaco GP", circuit: "Circuit de Monaco", time: "6:00 AM" },
      { date: "May 30-Jun 1", race: "Spanish GP", circuit: "Circuit de Barcelona-Catalunya", time: "6:00 AM" },
      { date: "Jun 13-15", race: "Canadian GP", circuit: "Circuit Gilles-Villeneuve", time: "11:00 AM" },
      { date: "Jun 27-29", race: "Austrian GP", circuit: "Red Bull Ring", time: "6:00 AM" },
      { date: "Jul 4-6", race: "British GP", circuit: "Silverstone Circuit", time: "7:00 AM" },
      { date: "Jul 25-27", race: "Belgian GP", circuit: "Circuit de Spa-Francorchamps", time: "6:00 AM" },
      { date: "Aug 1-3", race: "Hungarian GP", circuit: "Hungaroring", time: "6:00 AM" },
      { date: "Aug 29-31", race: "Dutch GP", circuit: "Circuit Park Zandvoort", time: "6:00 AM" },
      { date: "Sep 5-7", race: "Italian GP", circuit: "Autodromo Nazionale Monza", time: "6:00 AM" },
      { date: "Sep 19-21", race: "Azerbaijan GP", circuit: "Baku City Circuit", time: "4:00 AM" },
      { date: "Oct 3-5", race: "Singapore GP", circuit: "Marina Bay Street Circuit", time: "5:00 AM" },
      { date: "Oct 17-19", race: "United States GP", circuit: "Circuit of the Americas", time: "12:00 PM" },
      { date: "Oct 24-26", race: "Mexico City GP", circuit: "Autodromo Hermanos Rodriguez", time: "1:00 PM" },
      { date: "Nov 7-9", race: "SÃ£o Paulo GP", circuit: "Autodromo Jose Carlos Pace", time: "9:00 AM" },
      { date: "Nov 20-22", race: "Las Vegas GP", circuit: "Las Vegas Street Circuit", time: "8:00 PM" },
      { date: "Nov 28-30", race: "Qatar GP", circuit: "Losail International Circuit", time: "8:00 AM" },
      { date: "Dec 5-7", race: "Abu Dhabi GP", circuit: "Yas Marina Circuit", time: "5:00 AM" }
    ];
    
    // IndyCar events
    const indyEvents = [
      { date: "Mar 2", race: "Grand Prix of St. Petersburg", venue: "Streets of St. Petersburg", network: "FOX" },
      { date: "Mar 23", race: "Grand Prix of Thermal", venue: "The Thermal Club", network: "FOX" },
      { date: "Apr 13", race: "Grand Prix of Long Beach", venue: "Streets of Long Beach", network: "FOX" },
      { date: "May 4", race: "Grand Prix of Alabama", venue: "Barber Motorsports Park", network: "FOX" },
      { date: "May 10", race: "Grand Prix of Indianapolis", venue: "Indianapolis Motor Speedway Road Course", network: "FOX" },
      { date: "May 25", race: "Indianapolis 500", venue: "Indianapolis Motor Speedway", network: "FOX" },
      { date: "Jun 1", race: "Grand Prix of Detroit", venue: "Detroit Street Circuit", network: "FOX" },
      { date: "Jun 15", race: "Grand Prix of Illinois", venue: "World Wide Technology Raceway", network: "FOX" },
      { date: "Jun 22", race: "Grand Prix of Road America", venue: "Road America", network: "FOX" },
      { date: "Jul 6", race: "Grand Prix of Mid-Ohio", venue: "Mid-Ohio Sports Car Course", network: "FOX" },
      { date: "Jul 12", race: "Grand Prix of Iowa Race 1", venue: "Iowa Speedway", network: "FOX" },
      { date: "Jul 13", race: "Grand Prix of Iowa Race 2", venue: "Iowa Speedway", network: "FOX" },
      { date: "Jul 20", race: "Grand Prix of Toronto", venue: "Streets of Toronto", network: "FOX" },
      { date: "Jul 27", race: "Grand Prix of Monterey", venue: "Weathertech Raceway Laguna Seca", network: "FOX" },
      { date: "Aug 10", race: "Grand Prix of Portland", venue: "Portland International Raceway", network: "FOX" },
      { date: "Aug 24", race: "Grand Prix of Milwaukee", venue: "The Milwaukee Mile", network: "FOX" },
      { date: "Aug 31", race: "Grand Prix of Nashville", venue: "Nashville Superspeedway", network: "FOX" }
    ];
    
    // NASCAR Cup Series - Regular Season
    const nascarRegularEvents = [
      { date: "Feb 2", race: "Clash at Daytona", venue: "Daytona International Speedway", network: "FOX" },
      { date: "Feb 15", race: "Duel #1 & #2", venue: "Daytona International Speedway", network: "FS1" },
      { date: "Feb 18", race: "Daytona 500", venue: "Daytona International Speedway", network: "FOX" },
      { date: "Feb 25", race: "Atlanta", venue: "Atlanta Motor Speedway", network: "FOX" },
      { date: "Mar 3", race: "Las Vegas", venue: "Las Vegas Motor Speedway", network: "FOX" },
      { date: "Mar 10", race: "Phoenix", venue: "Phoenix Raceway", network: "FOX" },
      { date: "Mar 17", race: "Bristol Dirt", venue: "Bristol Motor Speedway", network: "FOX" },
      { date: "Mar 24", race: "COTA", venue: "Circuit of The Americas", network: "FOX" },
      { date: "Mar 31", race: "Richmond", venue: "Richmond Raceway", network: "Prime Video" },
      { date: "Apr 7", race: "Martinsville", venue: "Martinsville Speedway", network: "Prime Video" },
      { date: "Apr 14", race: "Texas", venue: "Texas Motor Speedway", network: "Prime Video" },
      { date: "Apr 21", race: "Talladega", venue: "Talladega Superspeedway", network: "Prime Video" },
      { date: "Apr 28", race: "Dover", venue: "Dover Motor Speedway", network: "Prime Video" },
      { date: "May 5", race: "Kansas", venue: "Kansas Speedway", network: "Prime Video" },
      { date: "May 12", race: "Darlington", venue: "Darlington Raceway", network: "TNT" },
      { date: "May 19", race: "North Wilkesboro", venue: "North Wilkesboro Speedway", network: "TNT" },
      { date: "May 26", race: "Charlotte", venue: "Charlotte Motor Speedway", network: "TNT" },
      { date: "Jun 2", race: "Gateway", venue: "World Wide Technology Raceway", network: "TNT" },
      { date: "Jun 9", race: "Sonoma", venue: "Sonoma Raceway", network: "TNT" },
      { date: "Jun 16", race: "Iowa", venue: "Iowa Speedway", network: "USA Net" },
      { date: "Jun 30", race: "Nashville", venue: "Nashville Superspeedway", network: "USA Net" },
      { date: "Jul 7", race: "Chicago", venue: "Chicago Street Course", network: "USA Net" },
      { date: "Jul 14", race: "Pocono", venue: "Pocono Raceway", network: "NBC" }
    ];
    
    // NASCAR Cup Series - Playoffs
    const nascarPlayoffEvents = [
      { date: "Sep 1", race: "Darlington", venue: "Darlington Raceway", network: "USA Net" },
      { date: "Sep 7", race: "Kansas", venue: "Kansas Speedway", network: "USA Net" },
      { date: "Sep 14", race: "Bristol", venue: "Bristol Motor Speedway", network: "USA Net" },
      { date: "Sep 22", race: "Texas", venue: "Texas Motor Speedway", network: "USA Net" },
      { date: "Sep 29", race: "Talladega", venue: "Talladega Superspeedway", network: "NBC" },
      { date: "Oct 6", race: "Charlotte Roval", venue: "Charlotte Motor Speedway Road Course", network: "NBC" },
      { date: "Oct 13", race: "Las Vegas", venue: "Las Vegas Motor Speedway", network: "NBC" },
      { date: "Oct 20", race: "Homestead-Miami", venue: "Homestead-Miami Speedway", network: "NBC" },
      { date: "Oct 27", race: "Martinsville", venue: "Martinsville Speedway", network: "NBC" },
      { date: "Nov 3", race: "Phoenix", venue: "Phoenix Raceway", network: "NBC" }
    ];
    
    /**
     * Generic function to populate a table body with event data.
     * @param {string} tableBodyId - The id of the tbody element.
     * @param {Array} events - Array of event objects.
     * @param {Array} columns - Array of keys (strings) corresponding to the columns.
     */
    function populateTable(tableBodyId, events, columns) {
      const tbody = document.getElementById(tableBodyId);
      events.forEach(event => {
        const tr = document.createElement("tr");
        // Save a data attribute with the start date (for upcoming event calculations)
        const eventStartDate = parseEventDate(event.date);
        tr.setAttribute("data-start", eventStartDate.toISOString());
        
        columns.forEach(col => {
          const td = document.createElement("td");
          td.textContent = event[col];
          tr.appendChild(td);
        });
        tbody.appendChild(tr);
      });
    }
    
    /*******************************
     * Populate Tables & Upcoming Event
     *******************************/
    
    document.addEventListener("DOMContentLoaded", function() {
      // Populate each schedule table
      populateTable("f1-table-body", f1Events, ["date", "race", "circuit", "time"]);
      populateTable("indy-table-body", indyEvents, ["date", "race", "venue", "network"]);
      populateTable("nascar-regular-table-body", nascarRegularEvents, ["date", "race", "venue", "network"]);
      populateTable("nascar-playoffs-table-body", nascarPlayoffEvents, ["date", "race", "venue", "network"]);
      
      // Gather all events into a single list with a "series" property
      let allEvents = [];
      
      f1Events.forEach(e => {
        allEvents.push({ series: "Formula 1", ...e, start: parseEventDate(e.date) });
      });
      indyEvents.forEach(e => {
        allEvents.push({ series: "IndyCar", ...e, start: parseEventDate(e.date) });
      });
      nascarRegularEvents.forEach(e => {
        allEvents.push({ series: "NASCAR Cup (Regular)", ...e, start: parseEventDate(e.date) });
      });
      nascarPlayoffEvents.forEach(e => {
        allEvents.push({ series: "NASCAR Cup (Playoffs)", ...e, start: parseEventDate(e.date) });
      });
      
      // Sort events by their start date (earliest first)
      allEvents.sort((a, b) => a.start - b.start);
      
      // Find the first event that is yet to start
      const now = new Date();
      let nextEvent = allEvents.find(event => event.start >= now);
      
      const upcomingDiv = document.getElementById("upcoming-event");
      if (nextEvent) {
        upcomingDiv.innerHTML = `
          <h4>Upcoming Event</h4>
          <p><strong>Series:</strong> ${nextEvent.series}</p>
          <p><strong>Date:</strong> ${nextEvent.date}</p>
          <p><strong>Race:</strong> ${nextEvent.race}</p>
          <p><strong>Location:</strong> ${nextEvent.circuit || nextEvent.venue}</p>
          ${ nextEvent.time ? `<p><strong>Time (ET):</strong> ${nextEvent.time}</p>` : "" }
        `;
      } else {
        upcomingDiv.innerHTML = "<p>No upcoming events.</p>";
      }
    });
  </script>
</body>
</html>